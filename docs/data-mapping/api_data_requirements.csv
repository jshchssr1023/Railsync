API Endpoint,HTTP Method,Description,Input Data Required,Output Data,Used By Feature,Integration Notes
/api/cars/:carNumber,GET,Get car details,Car number,Car attributes + qualification dates + commodity,Quick Shop evaluation,Requires car master feed
/api/cars-master,GET,List all cars,Filters (status/type),Paginated car list,Fleet management,Requires car master feed
/api/cars/import,POST,Bulk import cars,CSV data (car attributes),Import results,Admin data load,One-time or periodic batch load

/api/shops,GET,List all shops,None,All active shops,Shop selection,Requires shop network feed
/api/shops/evaluate,POST,Evaluate shops for car,Car number or attributes + overrides,Eligible shops with costs,Quick Shop,Requires car + shop + rules data
/api/shops/:shopCode/backlog,GET,Get shop backlog,Shop code,Current backlog metrics,Capacity planning,Requires daily backlog feed
/api/shops/:shopCode/backlog,PUT,Update shop backlog,Backlog data,Updated backlog,Daily operations feed,Inbound integration point
/api/shops/:shopCode/monthly-capacity,GET,Get monthly capacity,Shop code,18-month capacity grid,Planning,Requires capacity feed

/api/assignments,GET,List car assignments,Filters (status/shop/month),Paginated assignments,Pipeline view,Core SSOT data
/api/assignments,POST,Create assignment,Car + shop + month + options,New assignment,Quick Shop / Planning,Writes to SSOT
/api/assignments/:id/expedite,POST,Expedite assignment,Reason,Updated assignment,Bad order workflow,Triggers alerts
/api/assignments/:id/cancel,POST,Cancel assignment,Reason,Cancelled assignment,Planning changes,Audit tracked

/api/bad-orders,GET,List bad orders,Filters (status/severity),Bad order reports,Bad Order dashboard,Field operations input
/api/bad-orders,POST,Create bad order,Car + issue + severity,New report + conflict check,Field reporting,Checks for existing assignments
/api/bad-orders/:id/resolve,POST,Resolve bad order,Action (expedite/new/review),Updated assignment,Bad order workflow,Creates/updates SSOT assignments

/api/pipeline/buckets,GET,Get pipeline summary,None,Backlog/Pipeline/Active/Healthy counts + cars,Pipeline dashboard,Aggregates allocation data
/api/fleet/metrics,GET,Get fleet metrics,Optional tier filter,In-shop/planned/enroute counts + costs,Fleet dashboard,Aggregates allocation data
/api/fleet/monthly-volumes,GET,Get monthly volumes,Year + optional tier,Monthly car counts and costs,Fleet dashboard,Historical analysis

/api/budget/running-repairs,GET,Get RR budget,Fiscal year,Monthly budget vs actual,Budget tracking,Requires finance feed
/api/budget/service-events,GET,Get SE budgets,Fiscal year,Event budgets by type,Budget tracking,Requires finance feed
/api/budget/summary,GET,Get budget summary,Fiscal year,Combined budget overview,Dashboard,Aggregates budget data

/api/brc/import,POST,Import BRC file,AAR 500-byte BRC data,Matched records + costs,Cost reconciliation,Requires shop billing feed
/api/brc/history,GET,Get import history,None,Past imports with stats,Admin,Audit trail

/api/service-plans,GET,List service plans,Filters (customer/status/year),Service plans,Service planning,Customer-facing feature
/api/service-plans,POST,Create service plan,Customer + dates + flow rate,New plan,Service planning,Sales workflow
/api/service-plans/:id/approve,POST,Approve plan option,Option ID,Creates SSOT assignments,Service planning,Triggers assignment creation
/api/service-plans/:planId/options,GET,Get plan options,Plan ID,Options with costs,Service planning,Multi-option comparison
/api/service-plan-options/:optionId/cars,POST,Add car to option,Car + shop + month,Added car,Service planning,Plan building

/api/demands,GET,List demands,Filters,Planned work demands,Demand planning,Planning input
/api/allocations,POST,Create allocation,Car + shop + demand,New allocation,Planning,Legacy planning path
/api/allocations/generate,POST,Auto-generate allocations,Demand IDs + scenario,Generated allocations,Optimization,Uses scenario weights

/api/alerts,GET,Get alerts,User role,Active alerts,Notifications,System-generated
/api/alerts/scan/:scanType,POST,Trigger alert scan,Scan type (qual_due/capacity),New alerts,Admin,Runs compliance checks
/api/audit-logs,GET,Query audit logs,Filters (user/action/date),Audit records,Compliance,Change history
